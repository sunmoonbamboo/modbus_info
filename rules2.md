# 目标

现在我们已经基于 @rules.md 中的要求生成了一个可以读取modbus协议并从中提取出需要信息的程序，在这个版本中，需要给这个程序加入一个可以交互的UI界面，在其中可以上传pdf文档，并配置之前需要传入的参数。

# UI交互及后台功能

## UI框架
通过Gradio实现，提供一个简单的http形式的交付界面

## 用户可以输入的内容

### modbus协议文件上传的按钮和回显

#### 文件格式校验
只接受pdf格式的文件，其它格式提示错误

#### 文件存储
上传文件后将文件暂存在data/src 路径下，供后续使用

#### 回显
存储完成后给用户一个提示，能够进行下一步操作

### 控制器名称
一个字符串的输入框，必填，用户需要输入一个控制器的名字，对应 @main.py 中的 -c 参数

### 地址偏移量
一个数字输入框，默认为0，对应 @main.py 中的 -address_offset参数

### 提取的点位信息的描述
目前这个信息放在 @config/modebus_extract.md中，以kv的形式存放，如下：
-- 查询冷冻水进水温度采集: SPcoolTwIn
-- 查询冷冻水出水温度采集: SPcoolTwOut
-- 查询热水进水温度采集: SPheatTwIn
-- 查询热水出水温度采集: SPheatTwOut
-- 查询机组开关机采集: STrunning
-- 机组开关设定(没有分别指定开机、关机时使用): TurnonOrOff
-- 机组开机设定(单独设定开机): Turnon
-- 机组关机设定(单独设定关机): Turnoff
-- 查询运行模式采集: Mode
-- 热水温度设定点: Setheatpoint
-- 冷水温度设定点: Setcoolpoint
-- 出水温度设定点（没有指定冷水和热水时使用）: ToutSet

需要将这部分信息改为由用户输入，上述信息作为默认值，可以修改、删除或者增加；交互形式用你认为最合适的形式即可

## 提取按钮
触发现有的 pipeline

## 提取过程的显示
可以通过stream的方式显示提取的过程，llm的返回格式在 @src/ai_extractor.py中有定义

## 提取结果的显示
以表格的形式显示提取后的结果，即完整的 pipeline后的结果

## 下载按钮
将提取后的表格下载为.csv文件